<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>csp - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-csp.html">csp</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-csp.html#.chan">chan</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.channel">channel</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.close">close</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.config">config</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.dropping">dropping</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.fixed">fixed</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.go">go</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.isBuffered">isBuffered</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.isClosed">isClosed</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.isTimed">isTimed</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.join">join</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.recv">recv</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.recvAsync">recvAsync</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.recvOrThrow">recvOrThrow</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.select">select</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.selectAsync">selectAsync</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.send">send</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.sendAsync">sendAsync</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.sleep">sleep</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.sliding">sliding</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.timedChan">timedChan</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.transChan">transChan</a></li><li data-type='method' style='display: none;'><a href="module-csp.html#.value">value</a></li></ul></li><li><a href="module-csp-ops.html">csp-ops</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.debounce">debounce</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.map">map</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.merge">merge</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.partition">partition</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.pipe">pipe</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.split">split</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.tap">tap</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.throttle">throttle</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.toArray">toArray</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.toChannel">toChannel</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.untap">untap</a></li><li data-type='method' style='display: none;'><a href="module-csp-ops.html#.untapAll">untapAll</a></li></ul></li><li><a href="module-xdcore.html">xdcore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-xdcore.html#.complete">complete</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.ensureCompleted">ensureCompleted</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.ensureUncompleted">ensureUncompleted</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isArray">isArray</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isCompleted">isCompleted</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isFunction">isFunction</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isGeneratorFunction">isGeneratorFunction</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isImplemented">isImplemented</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isIterable">isIterable</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isNumber">isNumber</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isObject">isObject</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.isString">isString</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.iterator">iterator</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.reduce">reduce</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.toFunction">toFunction</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.toReducer">toReducer</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.toTransducer">toTransducer</a></li><li data-type='method' style='display: none;'><a href="module-xdcore.html#.uncomplete">uncomplete</a></li></ul></li><li><a href="module-xduce.html">xduce</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-xduce.html#.asArray">asArray</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.asIterator">asIterator</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.asObject">asObject</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.asString">asString</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.complement">complement</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.compose">compose</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.identity">identity</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.into">into</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.key">key</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.kv">kv</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.repeat">repeat</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.sequence">sequence</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.transduce">transduce</a></li><li data-type='method' style='display: none;'><a href="module-xduce.html#.value">value</a></li></ul></li></ul><h3>Externals</h3><ul><li><a href="external-Iterable.html">Iterable</a></li><li><a href="external-Iterator.html">Iterator</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">csp</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>All of the public-facing Chanko functions are gathered here in one place to
be exported as a whole. This is a completely flat list of exports, as
inluding any object literals for export (which would be natural for buffers,
for example) would keep tree-shaking from working right.</p></div>
            

            
                




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_index.js.html">csp/src/index.js</a>, <a href="csp_src_index.js.html#line8">line 8</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
































            
        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".CLOSED"><span class="type-signature">(static, constant) </span>CLOSED<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_handler.js.html">csp/src/modules/channel/handler.js</a>, <a href="csp_src_modules_channel_handler.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>*he value returned from a receive on a channel when that channel is closed
and has no more values available.</p>
<p>This is a special value that is returned under a certain circumstance, namely
when a receive is performed on a closed channel. Because of that, it cannot
be returned from a receive on an open channel. For that reason, <code>CLOSED</code> is
the only value that cannot be sent onto a channel — it would be
impossible to distinguish between a legitimate value of <code>CLOSED</code> and an
actual closed channel.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".DEFAULT"><span class="type-signature">(static, constant) </span>DEFAULT<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_select.js.html">csp/src/modules/channel/select.js</a>, <a href="csp_src_modules_channel_select.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>The name of the channel returned from <code>await <a href="module-csp.html#.select">select</a></code> or sent to the callback in
<code><a href="module-csp.html#.selectAsync">selectAsync</a></code> when the default is returned as
its value.</p>
<p>This only happens when an <code><a href="module-csp.html#.select">select</a> / <a href="module-csp.html#.selectAsync">selectAsync</a></code> call is performed, all operations
are initially blocking, and a <code>default</code> option is sent. The immediate
response in that situation is <code>{ value: options.default, channel: DEFAULT }</code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".EMPTY"><span class="type-signature">(static, constant) </span>EMPTY<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_queue.js.html">csp/src/modules/queue.js</a>, <a href="csp_src_modules_queue.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>The value returned when a queue is read when it's empty.</p>
<p>This special value is used because <code>null</code> and <code>undefined</code> are possible
legitimate values that can be stored in a queue. Another option is to use
some kind of <code>Maybe</code> or <code>Option</code> type, but that requires more effort on the
part of the end user to interface with.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".MESSAGE_CHANNEL"><span class="type-signature">(static, constant) </span>MESSAGE_CHANNEL<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_dispatcher.js.html">csp/src/modules/dispatcher.js</a>, <a href="csp_src_modules_dispatcher.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-csp.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>The dispatch method option indicating that a <code>MessageChannel</code> should be used
to dispatch tasks.</p>
<p>For environments that don't support <code>MessageChannel</code>, this falls back to
<code><a href="module-csp.html#.SET_TIMEOUT">SET_TIMEOUT</a></code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".protocols"><span class="type-signature">(static, constant) </span>protocols<span class="type-signature"> :module:csp.ProtocolMap</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_protocol.js.html">csp/src/modules/protocol.js</a>, <a href="csp_src_modules_protocol.js.html#line42">line 42</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>The mapping of protocol names to their respective property key names.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">module:csp.ProtocolMap</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".SET_IMMEDIATE"><span class="type-signature">(static, constant) </span>SET_IMMEDIATE<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_dispatcher.js.html">csp/src/modules/dispatcher.js</a>, <a href="csp_src_modules_dispatcher.js.html#line65">line 65</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-csp.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>The dispatch method option indicating that <code>setImmediate</code> should be used to
dispatch tasks.</p>
<p>This is the default option. For environments that don't support
<code>setImmediate</code>, this falls back to
<code><a href="module-csp.html#.MESSAGE_CHANNEL">MESSAGE_CHANNEL</a></code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".SET_TIMEOUT"><span class="type-signature">(static, constant) </span>SET_TIMEOUT<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_dispatcher.js.html">csp/src/modules/dispatcher.js</a>, <a href="csp_src_modules_dispatcher.js.html#line91">line 91</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-csp.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>The dispatch method option indicating that <code>setTimeout</code> should be used to
dispatch tasks.</p>
<p>This method is always available, but it's also always less efficient than any
other method, so it should be used as a last resort.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".chan"><span class="type-signature">(static) </span>chan<span class="signature">(buffer<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="module-csp.html#.Channel">module:csp.Channel</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line302">line 302</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates and returns a new channel.</p>
<p>By default this channel will be a simple unbuffered, untransformed channel,
but that can be changed through options. A channel does not have any
externally useful functions. It exists largely to be passed into
<code><a href="module-csp.html#.send">send</a></code>, <code><a href="module-csp.html#.recv">recv</a></code>, and
<code><a href="module-csp.html#.select">select</a></code> invocations, along with their non-blocking
variations (<code><a href="module-csp.html#.sendAsync">sendAsync</a></code>,
<code><a href="module-csp.html#.recvAsync">recvAsync</a></code>, and
<code><a href="module-csp.html#.selectAsync">selectAsync</a></code>).</p>
<p>If a buffer value is provided, it defines what buffer should back the
channel. If this is <code>null</code> or <code>0</code>, the channel will be unbuffered. If it's a
positive number, the channel will be buffered by a
<code><a href="module-csp.html#.FixedBuffer">FixedBuffer</a></code>of that size. If it's a
<code><a href="module-csp.html#.Buffer">Buffer</a></code> object, that object will be used as the
channel's buffer. If it's missing altogether, the channel will be unbuffered
unless a <code>transducer</code> option is provided (see below), in which case it will
be a <code><a href="module-csp.html#.FixedBuffer">FixedBuffer</a></code> of size 1.</p>
<p><code>chan</code> supports transducers by allowing a transducer function to be
associated with it. This is passed as the <code>transducer</code> option and can only be
used if the channel is buffered (otherwise an error is thrown). This
transducer function must take another transducer as a parameter (allowing
transformers to be chained), and it must return an object conforming to the
transducer protocol.</p>
<p>Errors in the transformation process can be handled by passing an error
handler. This is a function that expects to receive an error object as a
parameter and can return a value that is then put onto the channel. If this
value is <code><a href="module-csp.html#.CLOSED">CLOSED</a></code>, then no value will be put onto
the channel upon handler completion.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>buffer</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type"><a href="module-csp.html#.Buffer">module:csp.Buffer</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The buffer object that should
back this channel. If this is a positive number, a fixed buffer of that
size will be created to back the channel. If it is <code>0</code> or <code>null</code>, the new
channel will be unbuffered. If it's not present, the new channel will be
unbuffered unless there is a <code>transducer</code> option, in in which case it
will be buffered with a size 1
<code><a href="module-csp.html#.FixedBuffer">FixedBuffer</a></code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>A set of options for configuring the channel's
queue.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transducer</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:core.TransducerFunction</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A transducer to
run each value through before putting it onto the channel. This function
should expect one parameter (another transducer that it's chained to) and
return an object that conforms to the transducer protocol. If a
transducer is provided on an unbuffered channel, an error will be thrown.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.ExceptionHandler">module:csp.ExceptionHandler</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>An error handler that
is run whenever an error occurs inside a transducer function. If that
happens, this function is called with one parameter, which is the error
object. The value that the handler returns (if it is not
<code><a href="module-csp.html#.CLOSED">CLOSED</a></code>) will be put onto the channel when the
handler finishes running.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxDirty</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>64</code>
                
                </td>
            

            <td class="description last"><p>The maximum number of dirty operations
that can be in the queue before those operations are subject to being
purged. Dirty operations are those that may not be valid anymore because
they were in the list of operations passed to
<code><a href="module-csp.html#.select">select</a></code> or
<code><a href="module-csp.html#.selectAsync">selectAsync</a></code> but were not chosen to run.
This provides a chance for a very minor performance tweak and is best
left alone.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxQueued</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>1024</code>
                
                </td>
            

            <td class="description last"><p>The maximum number of operations
that can be queued up at the same time. This prevents infinite loops from
accidentally eating up all of the available memory.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timer</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>If this value is present, the channel will be
a timed channel that closes automatically after this number of
milliseconds.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new channel.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".channel"><span class="type-signature">(static) </span>channel<span class="signature">(result)</span><span class="type-signature"> &rarr; {<a href="module-csp.html#.Channel">module:csp.Channel</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_select.js.html">csp/src/modules/channel/select.js</a>, <a href="csp_src_modules_channel_select.js.html#line304">line 304</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A convenience function to read the channel out of a select result. This
function is not necessary - after all, it's absolutely as correct to simply
use <code>result.channel</code> instead of <code>channel(result)</code>, but it's provided for
consistency with the rest of the function-centric API.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.SelectResult">module:csp.SelectResult</a></span>


            
            </td>

            

            

            <td class="description last"><p>The result coming from a select
operation.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The channel upon which the select operation
completed.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".close"><span class="type-signature">(static) </span>close<span class="signature">(channel)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line612">line 612</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Closes the channel, if it isn't already closed. This immediately returns any
buffered values to pending receives. If there are no buffered values (or if
they've already been taken by other receives), then all of the rest of the
receives are completed with the value of <code><a href="module-csp.html#.CLOSED">CLOSED</a></code>.
Any pending sends are completed with the value of <code>false</code>.</p>
<p>Note that the buffer is not emptied if there are still values remaining after
all of the pending receives have been handled. The channel will still provide
those values to any future receives, though no new values may be added to the
channel. Once the buffer is depleted, any future receives will return
<code><a href="module-csp.html#.CLOSED">CLOSED</a></code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel to be closed.</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".config"><span class="type-signature">(static) </span>config<span class="signature">(opts)</span><span class="type-signature"> &rarr; {<a href="module-csp.html#.DispatcherConfig">module:csp.DispatcherConfig</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_dispatcher.js.html">csp/src/modules/dispatcher.js</a>, <a href="csp_src_modules_dispatcher.js.html#line268">line 268</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Sets one or more of the dispatcher configuration options.</p>
<p>This is advanced setting for the dispatcher that is responsible for queueing
up channel operations and processes. It is likely that this function will
never need to be called in normal operation.</p>
<p>If any recognized options are specified in the options object passed to
<code>config</code>, then the option is set to the value sent in. Properties that aren't
any of these options are ignored, and any of these options that do not appear
in the passed object are left with their current values.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>A mapping of options to their new values. Extra values
(properties that are not options) are ignored.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>batchSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The maximum number of tasks that the
dispatcher will run in a single batch (initially, this is 1024). If the
number of pending tasks exceeds this, the remaining are not discarded.
They're simply run as part of another batch after the current batch
completes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dispatchMethod</code></td>
            

            <td class="type">
            
                
<span class="param-type">Symbol</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The method used to dispatch a process
into a separate line of execution. Possible values are
<code><a href="module-csp.html#.SET_IMMEDIATE">SET_IMMEDIATE</a></code>,
<code><a href="module-csp.html#.MESSAGE_CHANNEL">MESSAGE_CHANNEL</a></code>, or
<code><a href="module-csp.html#.SET_TIMEOUT">SET_TIMEOUT</a></code>, with the initial being
<code><a href="module-csp.html#.SET_IMMEDIATE">SET_IMMEDIATE</a></code>. If a method is set but
is not available in that environment, then it will silently fall back to
the next method that is available.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The configuration settings for the
dispatcher after any new values have been set.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-csp.html#.DispatcherConfig">module:csp.DispatcherConfig</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".dropping"><span class="type-signature">(static) </span>dropping<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-csp.html#.DroppingBuffer">module:csp.DroppingBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_buffer.js.html">csp/src/modules/buffer.js</a>, <a href="csp_src_modules_buffer.js.html#line183">line 183</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates a dropping buffer of the specified capacity.</p>
<p>A dropping buffer silently drops the item being added if the buffer is
already at capacity. Since adding a new item will always 'succeed' (even if
it succeeds by just ignoring the add), it is never considered full and
therefore a put to a channel buffered by a dropping buffer never blocks.</p>
<p>This buffer is passed to <code><a href="module-csp.html#.chan">chan</a></code>, etc. to create a
buffered channel. It is not meant to be used directly.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before
newest items are dropped on add.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new dropping buffer of the specified
capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-csp.html#.DroppingBuffer">module:csp.DroppingBuffer</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".fixed"><span class="type-signature">(static) </span>fixed<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-csp.html#.FixedBuffer">module:csp.FixedBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_buffer.js.html">csp/src/modules/buffer.js</a>, <a href="csp_src_modules_buffer.js.html#line112">line 112</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates a fixed buffer of the specified capacity.</p>
<p>A fixed buffer is a 'normal' buffer, one that stores and returns items on
demand. While it is capable of being over-filled, that ability is not used in
Chanko. A buffer that is full will cause the next put to its channel to block
until at least one item is removed from the buffer.</p>
<p>This buffer is passed to <code><a href="module-csp.html#.chan">chan</a></code>, etc. to create a
buffered channel. It is not meant to be used directly.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before
it's full.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new fixed buffer of the specified
capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-csp.html#.FixedBuffer">module:csp.FixedBuffer</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".go"><span class="type-signature">(static) </span>go<span class="signature">(fn, &hellip;args)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_process.js.html">csp/src/modules/process.js</a>, <a href="csp_src_modules_process.js.html#line82">line 82</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Invokes an async function acting as a process.</p>
<p>This is purely a convenience function, driven by the fact that it's necessary
to use an IIFE to invoke an anonymous async function, and that's not very
aesthetically pleasing. It does no more than invoke the passed function, but
that at least releases us from the need to put the empty parentheses after
the function definition.</p>
<p>A named async function can simply be invoked (without being an IIFE) and
doesn't benefit from this convenience.</p>
<p>Anonymous process without <code>go</code>:</p>
<pre class="prettyprint source"><code>(async () => {
  ... do some process stuff here ...
})();
</code></pre>
<p>Anonymous process with <code>go</code>:</p>
<pre class="prettyprint source"><code>go(async () => {
  ... do some process stuff here ...
});
</code></pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The async function being used as a process.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>args</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"><p>Arguments that are sent to the async function when it's
invoked.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The promise returned by the async function.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".isBuffered"><span class="type-signature">(static) </span>isBuffered<span class="signature">(channel)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line406">line 406</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Determines whether a channel is buffered.</p>
<p>A channel is buffered if a buffer or a number was passed as the first
argument of <code><a href="module-csp.html#.chan">chan</a></code> or if a transducer is a part of
the channel.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel to check.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Either <code>true</code> if the channel is buffered or <code>false</code> if it
isn't.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".isClosed"><span class="type-signature">(static) </span>isClosed<span class="signature">(channel)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line390">line 390</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Determines whether a channel is closed.</p>
<p>A closed channel will cause any <code>send</code> operation to return <code>false</code> and any
<code>recv</code> operation to return any buffered items that remain, followed by
<code><a href="module-csp.html#.CLOSED">CLOSED</a></code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel to check.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Either <code>true</code> if the channel is closed or <code>false</code> if it
isn't.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".isTimed"><span class="type-signature">(static) </span>isTimed<span class="signature">(channel)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line423">line 423</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Determines whether a channel is timed.</p>
<p>A channel is timed if it was created either with the <code>timer</code> option of
<code><a href="module-csp.html#.chan">chan</a></code> or with the
<code><a href="module-csp.html#.timedChan">timedChan</a></code> function. It will automatically
close after a certain period of time.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel to check.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Either <code>true</code> if the channel is timed or <code>false</code> if it
isn't.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".join"><span class="type-signature">(static) </span>join<span class="signature">(&hellip;fns)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_process.js.html">csp/src/modules/process.js</a>, <a href="csp_src_modules_process.js.html#line97">line 97</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Joins all of the provided processes into a single process, returning a
promise that wraps all of the individual processes' promises. Putting this in
an <code>await</code> statement will block until all of the processes complete.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fns</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"><p>Any number of async functions whose resolutions are
being waited for.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves when all of the processes promises
resolve.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".recv"><span class="type-signature">(static) </span>recv<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line546">line 546</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Receives a value from this channel, blocking the async function until a value
becomes available to be received (or until the channel closes with no more
values on it to be received).</p>
<p>This function <em>must</em> be called from within an async function and as part of
an <code>await</code> expression.</p>
<p>When <code>receive</code> is completed and its function unblocks, its <code>await</code> expression
evaluates to the actual value that was received. If the target channel
closed, then all of the values already placed onto it are resolved by
<code>receive</code> as normal, and once no more values are available, the special value
<code><a href="module-csp.html#.CLOSED">CLOSED</a></code> is returned.</p>
</div>

























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that will resolve to the value received from the
channel once that receive is completed. If the channel closes without a
value being made available, this will resolve to
<code><a href="module-csp.html#.CLOSED">CLOSED</a></code>.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".recvAsync"><span class="type-signature">(static) </span>recvAsync<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line489">line 489</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Receives a value from this channel without blocking.</p>
<p>This means that a call to <code>receiveAsync</code> does not go into an <code>await</code>
expression, and it is not necessary to use it inside a async function. Rather
than blocking until a value becomes available on the channel to be received,
this one returns immediately and then invokes the callback (if provided) when
a value becomes available. It can be regarded as a non-blocking version of
<a href="module-csp.html#.recv">recv</a>`.</p>
<p>While the primary use of this function is to receive values from channels in
contexts where being inside an async function is impossible, it can still be
used inside async functions at times when it's important that the receive
doesn't block the function.</p>
<p>The callback is a function of one parameter, and the value supplied for that
parameter is the value received from the channel (either a value that was
sent or <code><a href="module-csp.html#.CLOSED">CLOSED</a></code>). If the callback isn't present,
nothing will happen after the value is taken.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.OpCallback">module:csp.OpCallback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>A function that gets invoked when a
value is made available to be received (this value may be
<code><a href="module-csp.html#.CLOSED">CLOSED</a></code> if the channel closes with no
available value). The function can take one parameter, which is the value
that is received from the channel.</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".recvOrThrow"><span class="type-signature">(static) </span>recvOrThrow<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line584">line 584</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Receives a value from a channel, blocking the async function until a value
becomes available to be received (or until the channel closes with no more
values on it to be received). If the received value is an error object, that
error is thrown at that point.</p>
<p>This function <em>must</em> be called from within an async function and as part of
an <code>await</code> expression.</p>
<p>It functions in every way like <code><a href="module-csp.html#.recv">recv</a></code> <em>except</em> in the
case that the value on the channel is an object that has <code>Error.prototype</code> in
its prototype chain (any built-in error, any properly-constructed custom
error). If that happens, the error is thrown, which will cause the returned
promise to be rejected with the error. It can then be handled up the promise
chain like any other rejected promise.</p>
<p><code>takeOrThrow</code> is roughly equivalent to:</p>
<pre class="prettyprint source"><code>const value = await recv(ch);
if (Error.prototype.isPrototypeOf(value)) {
  throw value;
}
</code></pre>
</div>

























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that will resolve to the value taken from the
channel once that take is completed. If the channel closes without a
value being made available, this will resolve to
<code><a href="module-csp.html#.CLOSED">CLOSED</a></code>. If the taken value is an error, the
promise will instead be rejected with the error object as the reason.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".select"><span class="type-signature">(static) </span>select<span class="signature">(operations, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="module-csp.html#.SelectResult">module:csp.SelectResult</a>>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_select.js.html">csp/src/modules/channel/select.js</a>, <a href="csp_src_modules_channel_select.js.html#line271">line 271</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Completes the first operation among the provided operations that comes
available, blocking the process until then.</p>
<p><code>operations</code> is an array whose elements must be channels or two-element
sub-arrays of channels and values, in any combination. An operation that is a
channel is a take operation on that channel. An operation that is a
two-element array is a put operation on that channel using that value.
Exactly one of these operations will complete, and it will be the first
operation that unblocks.</p>
<p>This function <em>must</em> be called from within an <code>async</code> function and as part of
an <code>await</code> expression if the return value is needed.</p>
<p>When <code>select</code> is completed and its process unblocks, its <code>await</code> expression
evaluates to an object of two properties. The <code>value</code> property becomes
exactly what would have been returned by the equivalent <code>await put</code> or <code>await take</code> operation: a boolean in the case of a put, or the taken value in the
case of a take. The <code>channel</code> property is set to the channel where the
operation actually took place. This will be equivalent to the channel in the
<code>operations</code> array which completed first, allowing the process to unblock.</p>
<p>If there is more than one operation already available to complete when the
call to <code>select</code> is made, the operation with the highest priority will be the
one to complete. Regularly, priority is non-deterministic (i.e., it's set
randomly). However, if the options object has a <code>priority</code> value set to
<code>true</code>, priority will be assigned in the order of the operations in the
supplied array.</p>
<p>If all of the operations must block (i.e., there are no pending puts for take
operations, or takes for put operations), a default value may be returned.
This is only done if there is a <code>default</code> property in the options object, and
the value of that property becomes the value returned by <code>await select</code>. The
channel is set to the special value <code><a href="module-csp.html#.DEFAULT">DEFAULT</a></code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>operations</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;object></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A collection of elements that correspond to recv
and send operations. A recv operation is signified by an element that is
a channel (which is the channel to be taken from). A send operation is
specified by an element that is itself a two-element array, which has a
channel followed by a value (which is the channel and value to be sent).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{}</code>
                
                </td>
            

            <td class="description last"><p>An optional object which can change the behavior
of <code>select</code> through two properties.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>priority</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last"><p>If <code>true</code>, then the priority of
operations to complete when more than one is immediately available is a
priority according to position within the operations array (earlier
positions have the higher priority). If <code>false</code> or not present, the
priorty of operation completion is random.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>default</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>If set and all of the operations initially
block, the <code>select</code> call completes immediately with the value of this
option (the channel will be <code><a href="module-csp.html#.DEFAULT">DEFAULT</a>)</code>. If not
set, the <code>select</code> call will block until one of the operations completes
and that value and channel will be the ones returned.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that will resolve to an
object of two properties: <code>value</code> will contain the value that would have
been returned by the corresponding <code><a href="module-csp.html#.send">send</a></code> or
<code><a href="module-csp.html#.recv">recv</a></code> operation; and <code>channel</code> will be a
reference to the channel that completed the operation to allow <code>select</code>
to unblock.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="module-csp.html#.SelectResult">module:csp.SelectResult</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".selectAsync"><span class="type-signature">(static) </span>selectAsync<span class="signature">(operations, callback, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_select.js.html">csp/src/modules/channel/select.js</a>, <a href="csp_src_modules_channel_select.js.html#line152">line 152</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Completes the first operation among the provided operations that comes
available, without blocking.</p>
<p>This means that a call to <code>selectAsync</code> does not go into an <code>await</code>
expression, and it is not necessary to use it inside a process. Rather than
blocking until an operation completes, this one returns immediately and then
invokes the callback (if provided) as soon as one of the supplied operations
completes. It can be regarded as a non-blocking version of
<code><a href="module-csp.html#.select">select</a></code>.</p>
<p>This function uses an operations list that's identical to the one used by
<code><a href="module-csp.html#.select">select</a></code>. It's an array of values; if a value is a
channel, then that operation is a take on that channel, while if it's a
two-element array of channel and value, then that operation is a put of that
value onto that channel. All options that are available to
<code><a href="module-csp.html#.select">select</a></code> are also available here.</p>
<p>The callback is a function of one parameter, which in this case is an object
with <code>value</code> and <code>channel</code> properties.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>operations</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A collection of elements that correspond to recv
and send operations. A recv operation is signified by an element that is
a channel (which is the channel to be received from). A send operation is
specified by an element that is itself a two-element array, which has a
channel followed by a value (which is the channel and value to be sent).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.SelectCallback">module:csp.SelectCallback</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A function that gets invoked when
one of the operations completes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{}</code>
                
                </td>
            

            <td class="description last"><p>An optional object which can change the behavior
of <code>selectAsync</code> through two properties.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>priority</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>false</code>
                
                </td>
            

            <td class="description last"><p>If <code>true</code>, then the priority of
operations to complete when more than one is immediately available is a
priority according to position within the operations array (earlier
positions have the higher priority). If <code>false</code> or not present, the
priorty of operation completion is random.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>default</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>If set and all of the operations initially
block, the <code>selectAsync</code> calls its callback immediately with the value of
this option (the channel will be <code><a href="module-csp.html#.DEFAULT">DEFAULT</a>)</code>.
If not set, the <code>selectAsync</code> call will not call its callback until one
of the operations completes and that value and channel will be the ones
returned.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".send"><span class="type-signature">(static) </span>send<span class="signature">(value<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;boolean>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line520">line 520</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Sends a value to a channel, blocking the async function until that value is
received from the channel by a different function (or until the channel
closes).</p>
<p>A value is always sent to the channel, but if that value isn't specified by
the second parameter, it is <code>undefined</code>. Any value may be sent to a channel,
with the sole exception of the special value
<code><a href="module-csp.html#.CLOSED">CLOSED</a></code>.</p>
<p>This function <em>must</em> be called from within an async function and as part of
an <code>await</code> expression.</p>
<p>When <code>send</code> is completed and its function unblocks, its <code>await</code> expression
evaluates to a status boolean that indicates what caused the function to
unblock. That value is <code>true</code> if the sent value was successfully taken by
another process, or <code>false</code> if the unblocking happened because the target
channel closed.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The value being put onto the channel.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that will resolve to <code>true</code> or <code>false</code>
depending on whether the put value is actually taken.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;boolean></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".sendAsync"><span class="type-signature">(static) </span>sendAsync<span class="signature">(value<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line455">line 455</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Sends a value to this channel without blocking.</p>
<p>This means that a call to <code>sendAsync</code> does not go into an <code>await</code> expression,
and it is not necessary to use it inside a async function. Rather than
blocking until the sent value is taken by another async function, this one
returns immediately and then invokes the callback (if provided) when the sent
value is taken. It can be seen as a non-blocking version of
<code><a href="module-csp.html#.send">send</a></code>.</p>
<p>While the primary use of this function is to send values onto channels in
contexts where being inside an async function is impossible (for example, in
a DOM element's event handler), it can still be used inside async functions
at times when it's important to make sure that the function doesn't block
from the send.</p>
<p>The callback is a function of one parameter. The parameter that's supplied to
the callback is the same as what is supplied to <code>await send</code>: <code>true</code> if the
value was taken, or <code>false</code> if the channel was closed. If the callback isn't
present, nothing will happen after the value is taken.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The value being put onto the channel.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.OpCallback">module:csp.OpCallback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>A function that gets invoked either
when the value is taken by another process or when the channel is closed.
This function can take one parameter, which is <code>true</code> in the former case
and <code>false</code> in the latter.</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id=".sleep"><span class="type-signature">(static) </span>sleep<span class="signature">(delay<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_process.js.html">csp/src/modules/process.js</a>, <a href="csp_src_modules_process.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Blocks the process for the specified time (in milliseconds) and then unblocks
it.</p>
<p>This implements a delay, but one that's superior to other kinds of delays
(<code>setTimeout</code>, etc.) because it blocks the process and allows the dispatcher
to allow other processes to run while this one waits. The default delay is 0,
which will release the process to allow others to run and then immediately
re-queue it.</p>
<p>This function <em>must</em> be called from within an <code>async</code> function and as part of
an <code>await</code> expression.</p>
<p>When this function completes and its process unblocks, the <code>await</code> expression
doesn't take on any meaningful value. The purpose of this function is simply
to delay, not to communicate any data.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>delay</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>0</code>
                
                </td>
            

            <td class="description last"><p>the number of milliseconds that the process will
block for. At the end of that time, the process is again eligible to be
run by the dispatcher. If this is missing or set to <code>0</code>, the process will
cede execution to the next one but immediately requeue itself to be run
again.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves with no meaningful result when the
time has elapsed.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".sliding"><span class="type-signature">(static) </span>sliding<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-csp.html#.SlidingBuffer">module:csp.SlidingBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_buffer.js.html">csp/src/modules/buffer.js</a>, <a href="csp_src_modules_buffer.js.html#line256">line 256</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates a sliding buffer of the specified capacity.</p>
<p>A sliding buffer drops the first-added (oldest) item already in the buffer if
a new item is added when the buffer is already at capacity. Since it's always
capable of having items added to it, it's never considered full, and
therefore a put to a channel buffered by a sliding buffer never blocks.</p>
<p>This buffer is passed to <code><a href="module-csp.html#.chan">chan</a></code>, etc. to create a
buffered channel. It is not meant to be used directly.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before
oldest items are dropped on add.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new sliding buffer of the specified
capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-csp.html#.SlidingBuffer">module:csp.SlidingBuffer</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".timedChan"><span class="type-signature">(static) </span>timedChan<span class="signature">(delay)</span><span class="type-signature"> &rarr; {<a href="module-csp.html#.Channel">module:csp.Channel</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line355">line 355</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates an unbuffered, timed channel. This channel closes automatically after
the supplied number of milliseconds and is the equivalent of calling <code>chan(0, { timer: delay })</code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>delay</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            
                <td class="default">
                
                    <code>0</code>
                
                </td>
            

            <td class="description last"><p>The number of milliseconds after the channel is created
that it will be closed automatically.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new timed channel.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".transChan"><span class="type-signature">(static) </span>transChan<span class="signature">(transducer, handler<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="module-csp.html#.Channel">module:csp.Channel</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_index.js.html">csp/src/modules/channel/index.js</a>, <a href="csp_src_modules_channel_index.js.html#line374">line 374</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates a buffered channel with a transducer and optional error handler. The
buffer for this channel is a <code><a href="module-csp.html#.FixedBuffer">FixedBuffer</a></code> of
size 1. This is the equivalent of <code>chan(1, { transducer, handler })</code>.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transducer</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:core.TransducerFunction</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The transducer used to
transform values on the new channel.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.ExceptionHandler">module:csp.ExceptionHandler</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An exception handler called
with the error object as its only argument when an error happens inside a
transducer. If this is not provided, a default handler is used that
simply does nothing, including sending no output from the value that
errored.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new channel with a transducer.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".value"><span class="type-signature">(static) </span>value<span class="signature">(result)</span><span class="type-signature"> &rarr; {*}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_select.js.html">csp/src/modules/channel/select.js</a>, <a href="csp_src_modules_channel_select.js.html#line288">line 288</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A convenience function to read the value out of a select result. This
function is not necessary - after all, it's absolutely as correct to simply
use <code>result.value</code> instead of <code>value(result)</code>, but it's provided for
consistency with the rest of the function-centric API.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.SelectResult">module:csp.SelectResult</a></span>


            
            </td>

            

            

            <td class="description last"><p>The result coming from a select
operation.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The value provided by the select operation.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id=".Buffer">Buffer</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_buffer.js.html">csp/src/modules/buffer.js</a>, <a href="csp_src_modules_buffer.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A buffer that stores values sent to a buffered channel until a process
receives them.</p>
<p>Different buffers differ only in the way that they determine whether they are
full and in what happens when a new value is added to a full buffer.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="module-csp.html#.FixedBuffer">module:csp.FixedBuffer</a></span>
|

<span class="param-type"><a href="module-csp.html#.DroppingBuffer">module:csp.DroppingBuffer</a></span>
|

<span class="param-type"><a href="module-csp.html#.SlidingBuffer">module:csp.SlidingBuffer</a></span>


        </li>
    </ul>






            
                
<h4 class="name" id=".Channel">Channel</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_handler.js.html">csp/src/modules/channel/handler.js</a>, <a href="csp_src_modules_channel_handler.js.html#line163">line 163</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A channel, used by processes to communicate with one another.</p>
<p>For each operation, the channel first tests to see if there's a corresponding
operation already queued (i.e., if we're doing a <code>send</code> that there's a queued
<code>recv</code> and vice versa). If there is, that corresponding operation is
unblocked and both operations complete. If not, the operation is queued to
wait for a corresponding operation. The process or that created the operation
then blocks.</p>
<p>The channel can be backed by a buffer, though it is not by default. If a
buffer is in place, and that buffer is not full, then the process that
created an operation that has to be queued is <em>not</em> blocked.</p>
<p>This channel object supports transformations, assuming that they follow the
protocol created by a few transducer library authors to allow them to
interoperate. The support must be explicitly created because the normal
method of making an object support transformations won't work here. This
method is to create a new object and add the transformed values to it - but
for a channel, we need to replace the values on the channel with their
transformed values, in the same order even in a multi-process environment.
Thus transformations happen in place.</p>
<p>Transformations are applied before the value is queued, so even if there is a
corresponding operation ready to go, the transformation still happens. Also,
transformations require that the channel be buffered (this buffer is what is
sent to the transformer's reduction step function); trying to create a
channel with a transformer but without a buffer will result in an error being
thrown.</p>
<p>This is the object that is returned from a call to
<code><a href="module-csp.html#.chan">chan</a></code>. However, this object is intended to be used
as a value to pass to channel operation functions; it doesn't have any
properties of interest to an end user.</p>
</div>








            
                
<h4 class="name" id=".DispatcherConfig">DispatcherConfig</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_dispatcher.js.html">csp/src/modules/dispatcher.js</a>, <a href="csp_src_modules_dispatcher.js.html#line224">line 224</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>batchSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The maximum number of tasks that the dispatcher
will run in a single batch.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dispatchMethod</code></td>
            

            <td class="type">
            
                
<span class="param-type">Symbol</span>


            
            </td>

            

            

            <td class="description last"><p>The method used to dispatch a process into
a separate line of execution.</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>The configuration of the Chanko dispatcher. An object like this is returned
from the <a href="module-csp.html#.config">module:csp.config</a> function, and it may also be passed to the
same function (though each property is optional in that case).</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>






            
                
<h4 class="name" id=".DroppingBuffer">DroppingBuffer</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_buffer.js.html">csp/src/modules/buffer.js</a>, <a href="csp_src_modules_buffer.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A buffer implementation that drops newly added items when the buffer is full.</p>
<p>This dropping behavior is silent: the new item is simply not added to the
queue. Note that this buffer is never <code>full</code> because it can always be added
to without exceeding the size, even if that 'adding' doesn't result in a new
item actually appearing in the buffer.</p>
<p>A buffer of this type exists only as an object that can be passed to a
channel creation function (such as <a href="module-csp.html#.chan">chan</a>) to make that
channel a buffered channel. It doesn't have any properties that are intended
for external use.</p>
</div>








            
                

    

    <h4 class="name" id=".ExceptionHandler"><span class="type-signature"></span>ExceptionHandler<span class="signature">(err)</span><span class="type-signature"> &rarr; {*}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_index.js.html">csp/src/index.js</a>, <a href="csp_src_index.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>An error handling funciton. This is used to handle exceptions thrown in async
functions and in transducers. The return value of an exception handler is
typically sent to a channel; if the exception happened within an async
function, it will be sent to that function's output channel, and if the
excpetion happened in a transducer, it will be sent to the channel to which
the transducer is attached.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The error object that was thrown to cause the error to
have to be handled.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A value decided by the handler that will be sent to a channel.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    



            
                
<h4 class="name" id=".FixedBuffer">FixedBuffer</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_buffer.js.html">csp/src/modules/buffer.js</a>, <a href="csp_src_modules_buffer.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A buffer implementation that never discards buffered items when a new item is
added.</p>
<p>This buffer has a concept of <em>full</em>, but it's a soft limit. If the size of
the buffer is exceeded, added items are still stored.</p>
<p>A buffer of this type exists only as an object that can be passed to a
channel creation function (such as <a href="module-csp.html#.chan">chan</a>) to make that
channel a buffered channel. It doesn't have any properties that are intended
for external use.</p>
</div>








            
                

    

    <h4 class="name" id=".OpCallback"><span class="type-signature"></span>OpCallback<span class="signature">(value)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_index.js.html">csp/src/index.js</a>, <a href="csp_src_index.js.html#line61">line 61</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A callback that's run when a non-blocking channel operation completes. The
value that this function receives is identical to what is returned by a
blocking call: the value received from the channel for a <code>recv</code>, or <code>true</code> or
<code>false</code> depending on the channel status for a <code>send</code>. Any return value from
this callback is ignored.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>Either the value received from the channel, or whether or
not a value was successfully sent.</p></td>
        </tr>

    
    </tbody>
</table>



















            
                

    

    <h4 class="name" id=".SelectCallback"><span class="type-signature"></span>SelectCallback<span class="signature">(data)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_index.js.html">csp/src/index.js</a>, <a href="csp_src_index.js.html#line74">line 74</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A callback that's run when a non-blocking <code>select</code> operation completes. The
value that this function receives is an object with two properties: the value
that the <code>select</code> operation completed with (either the value received from
the channel in a receive operation, or <code>true</code> or <code>false</code> in a send
operation), along with the channel where the operation actually happened. Any
return value from this callback is ignored.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.SelectResult">module:csp.SelectResult</a></span>


            
            </td>

            

            

            <td class="description last"><p>The value returned from the select
operation.</p></td>
        </tr>

    
    </tbody>
</table>



















            
                
<h4 class="name" id=".SelectResult">SelectResult</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_channel_select.js.html">csp/src/modules/channel/select.js</a>, <a href="csp_src_modules_channel_select.js.html#line80">line 80</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>If the <code>select</code> operation resulted in a receive, this is
the value received from the channel. If it resulted in a send, this is
<code>true</code> for a successful send and <code>false</code> if the channel closed first.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-csp.html#.Channel">module:csp.Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel upon which the selected
operation happened.</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>A result that comes from <code>select</code> operations.</p>
</div>








            
                
<h4 class="name" id=".SlidingBuffer">SlidingBuffer</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="csp_src_modules_buffer.js.html">csp/src/modules/buffer.js</a>, <a href="csp_src_modules_buffer.js.html#line220">line 220</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A buffer implementation that drops the oldest item when an item is added to a
full buffer.</p>
<p>This is very similar to <a href="module-csp.html#.DroppingBuffer">DroppingBuffer</a>; the
only difference is in what happens when an item is added. In this buffer, the
new item is indeed added to the buffer, but in order to keep the count of the
buffer at or below its size, the oldest item in the buffer is silently
dropped.</p>
<p>A buffer of this type exists only as an object that can be passed to a
channel creation function (such as <a href="module-csp.html#.chan">chan</a>) to make that
channel a buffered channel. It doesn't have any properties that are intended
for external use.</p>
</div>








            
    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Wed Apr 01 2020 15:37:47 GMT-0400 (Eastern Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>