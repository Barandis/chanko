<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Chanko - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-chanko.html">chanko</a></li><li><a href="module-chanko_buffer.html">chanko/buffer</a></li><li><a href="module-chanko_dispatcher.html">chanko/dispatcher</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-chanko_buffer-DroppingBuffer.html">DroppingBuffer</a></li><li><a href="module-chanko_buffer-FixedBuffer.html">FixedBuffer</a></li><li><a href="module-chanko_buffer-SlidingBuffer.html">SlidingBuffer</a></li><li><a href="module-chanko-Chanko.html">Chanko</a><ul class='methods'></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Chanko</h1>
    

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-chanko.html">chanko</a>~</span>
        
        Chanko
        </h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line17">line 17</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




            
                <div class="description usertext"><p>The core namespace under which all of the main functions reside in the API.
Everything in this namespace is accessible as a member of the main <code>chanko</code>
object that is required, imported, or accessed as a global object.</p></div>
            

            
        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".EMPTY"><span class="type-signature">(static, constant) </span>EMPTY<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_queue.js.html">modules/queue.js</a>, <a href="modules_queue.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>The value returned when a queue is read when it's empty.</p>
<p>This special value is used because <code>null</code> and <code>undefined</code> are possible
legitimate values that can be stored in a queue. Another option is to use
some kind of <code>Maybe</code> or <code>Option</code> type, but that requires more effort on the
part of the end user to interface with.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".MESSAGE_CHANNEL"><span class="type-signature">(static, constant) </span>MESSAGE_CHANNEL<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_dispatcher.js.html">modules/dispatcher.js</a>, <a href="modules_dispatcher.js.html#line77">line 77</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-chanko-Chanko.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>The dispatch method option indicating that a <code>MessageChannel</code> should be used
to dispatch tasks.</p>
<p>For environments that don't support <code>MessageChannel</code>, this falls back to
<code><a href="module-chanko-Chanko.html#.SET_TIMEOUT">SET_TIMEOUT</a></code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".SET_IMMEDIATE"><span class="type-signature">(static, constant) </span>SET_IMMEDIATE<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_dispatcher.js.html">modules/dispatcher.js</a>, <a href="modules_dispatcher.js.html#line64">line 64</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-chanko-Chanko.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>The dispatch method option indicating that <code>setImmediate</code> should be used to
dispatch tasks.</p>
<p>This is the default option. For environments that don't support
<code>setImmediate</code>, this falls back to
<code><a href="module-chanko-Chanko.html#.MESSAGE_CHANNEL">MESSAGE_CHANNEL</a></code>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
            
<h4 class="name" id=".SET_TIMEOUT"><span class="type-signature">(static, constant) </span>SET_TIMEOUT<span class="type-signature"> :Symbol</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_dispatcher.js.html">modules/dispatcher.js</a>, <a href="modules_dispatcher.js.html#line90">line 90</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-chanko-Chanko.html#.config">config</a></li>
        </ul>
    </dd>
    

    
</dl>





<div class="description usertext">
    <p>The dispatch method option indicating that <code>setTimeout</code> should be used to
dispatch tasks.</p>
<p>This method is always available, but it's also always less efficient than any
other method, so it should be used as a last resort.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Symbol</span>


        </li>
    </ul>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".config"><span class="type-signature">(static) </span>config<span class="signature">(opts)</span><span class="type-signature"> &rarr; {<a href="module-chanko_dispatcher.html#~DispatcherConfig">module:chanko/dispatcher~DispatcherConfig</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_dispatcher.js.html">modules/dispatcher.js</a>, <a href="modules_dispatcher.js.html#line262">line 262</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Sets one or more of the dispatcher configuration options.</p>
<p>This is advanced setting for the dispatcher that is responsible for queueing
up channel operations and processes. It is likely that this function will
never need to be called in normal operation.</p>
<p>If any recognized options are specified in the options object passed to
<code>config</code>, then the option is set to the value sent in. Properties that aren't
any of these options are ignored, and any of these options that do not appear
in the passed object are left with their current values.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>A mapping of options to their new values. Extra values
(properties that are not options) are ignored.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>batchSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The maximum number of tasks that the
dispatcher will run in a single batch (initially, this is 1024). If the
number of pending tasks exceeds this, the remaining are not discarded.
They're simply run as part of another batch after the current batch
completes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dispatchMethod</code></td>
            

            <td class="type">
            
                
<span class="param-type">Symbol</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The method used to dispatch a process
into a separate line of execution. Possible values are
<code><a href="module-chanko-Chanko.html#.SET_IMMEDIATE">SET_IMMEDIATE</a></code>,
<code><a href="module-chanko-Chanko.html#.MESSAGE_CHANNEL">MESSAGE_CHANNEL</a></code>, or
<code><a href="module-chanko-Chanko.html#.SET_TIMEOUT">SET_TIMEOUT</a></code>, with the initial
being <code><a href="module-chanko-Chanko.html#.SET_IMMEDIATE">SET_IMMEDIATE</a></code>. If a
method is set but is not available in that environment, then it will
silently fall back to the next method that is available.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The configuration
settings for the dispatcher after any new values have been set.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-chanko_dispatcher.html#~DispatcherConfig">module:chanko/dispatcher~DispatcherConfig</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".dropping"><span class="type-signature">(static) </span>dropping<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-chanko_buffer-DroppingBuffer.html">module:chanko/buffer~DroppingBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_buffer.js.html">modules/buffer.js</a>, <a href="modules_buffer.js.html#line162">line 162</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates a dropping buffer of the specified capacity.</p>
<p>A dropping buffer silently drops the item being added if the buffer is
already at capacity. Since adding a new item will always 'succeed' (even if
it succeeds by just ignoring the add), it is never considered full and
therefore a put to a channel buffered by a dropping buffer never blocks.</p>
<p>This buffer is passed to <code>chan</code>, etc. to
create a buffered channel. It is not meant to be used directly.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before
newest items are dropped on add.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new dropping buffer of the
specified capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-chanko_buffer-DroppingBuffer.html">module:chanko/buffer~DroppingBuffer</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".fixed"><span class="type-signature">(static) </span>fixed<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-chanko_buffer-FixedBuffer.html">module:chanko/buffer~FixedBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_buffer.js.html">modules/buffer.js</a>, <a href="modules_buffer.js.html#line97">line 97</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates a fixed buffer of the specified capacity.</p>
<p>A fixed buffer is a 'normal' buffer, one that stores and returns items on
demand. While it is capable of being over-filled, that ability is not used in
Chanko. A buffer that is full will cause the next put to its channel to block
until at least one item is removed from the buffer.</p>
<p>This buffer is passed to <code>chan</code>, etc. to
create a buffered channel. It is not meant to be used directly.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before
it's full.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new fixed buffer of the
specified capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-chanko_buffer-FixedBuffer.html">module:chanko/buffer~FixedBuffer</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".go"><span class="type-signature">(static) </span>go<span class="signature">(fn, &hellip;args)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_process.js.html">modules/process.js</a>, <a href="modules_process.js.html#line82">line 82</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Invokes an async function acting as a process.</p>
<p>This is purely a convenience function, driven by the fact that it's necessary
to use an IIFE to invoke an anonymous async function, and that's not very
aesthetically pleasing. It does no more than invoke the passed function, but
that at least releases us from the need to put the empty parentheses after
the function definition.</p>
<p>A named async function can simply be invoked (without being an IIFE) and
doesn't benefit from this convenience.</p>
<p>Anonymous process without <code>go</code>:</p>
<pre class="prettyprint source"><code>(async () => {
  ... do some process stuff here ...
})();
</code></pre>
<p>Anonymous process with <code>go</code>:</p>
<pre class="prettyprint source"><code>go(async () => {
  ... do some process stuff here ...
});
</code></pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The async function being used as a process.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>args</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"><p>Arguments that are sent to the async function when it's
invoked.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The promise returned by the async function.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".sleep"><span class="type-signature">(static) </span>sleep<span class="signature">(delay<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_process.js.html">modules/process.js</a>, <a href="modules_process.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Blocks the process for the specified time (in milliseconds) and then unblocks
it.</p>
<p>This implements a delay, but one that's superior to other kinds of delays
(<code>setTimeout</code>, etc.) because it blocks the process and allows the dispatcher
to allow other processes to run while this one waits. The default delay is 0,
which will release the process to allow others to run and then immediately
re-queue it.</p>
<p>This function <em>must</em> be called from within an <code>async</code> function and as part of
an <code>await</code> expression.</p>
<p>When this function completes and its process unblocks, the <code>await</code> expression
doesn't take on any meaningful value. The purpose of this function is simply
to delay, not to communicate any data.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>delay</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>0</code>
                
                </td>
            

            <td class="description last"><p>the number of milliseconds that the process will
block for. At the end of that time, the process is again eligible to be
run by the dispatcher. If this is missing or set to <code>0</code>, the process will
cede execution to the next one but immediately requeue itself to be run
again.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A promise that resolves with no meaningful result when the
time has elapsed.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".sliding"><span class="type-signature">(static) </span>sliding<span class="signature">(size)</span><span class="type-signature"> &rarr; {<a href="module-chanko_buffer-SlidingBuffer.html">module:chanko/buffer~SlidingBuffer</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_buffer.js.html">modules/buffer.js</a>, <a href="modules_buffer.js.html#line230">line 230</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates a sliding buffer of the specified capacity.</p>
<p>A sliding buffer drops the first-added (oldest) item already in the buffer if
a new item is added when the buffer is already at capacity. Since it's always
capable of having items added to it, it's never considered full, and
therefore a put to a channel buffered by a sliding buffer never blocks.</p>
<p>This buffer is passed to <code>chan</code>, etc. to
create a buffered channel. It is not meant to be used directly.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items that the new buffer can hold before
oldest items are dropped on add.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new sliding buffer of the
specified capacity.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-chanko_buffer-SlidingBuffer.html">module:chanko/buffer~SlidingBuffer</a></span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>