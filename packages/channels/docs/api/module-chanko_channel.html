<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>chanko/channel - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-chanko.html">chanko</a></li><li><a href="module-chanko_buffer.html">chanko/buffer</a></li><li><a href="module-chanko_channel.html">chanko/channel</a><ul class='methods'></ul></li><li><a href="module-chanko_dispatcher.html">chanko/dispatcher</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-chanko-Chanko.html">Chanko</a><ul class='methods'></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">chanko/channel</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>An implementation of channels. These channels are essentially queues that
hold instructions waiting for the next available async function to process
them. They can be buffered, which is accomplished using the buffer functions
<code><a href="module-chanko-Chanko.html#.fixed">fixed</a></code>,
<code><a href="module-chanko-Chanko.html#.dropping">dropping</a></code>, and
<code><a href="module-chanko-Chanko.html#.sliding">sliding</a></code>.</p>
<p>Channels do not interact with JS tasks or the dispatcher in any meaningful
way. They're just here to hold tasks which may themselves then cause new JS
tasks to be created via the dispatcher.</p>
<p>Channels may have transducers associated with them. The transducers are
expected to follow the same conventions as any of the popular transducer
libraries. Explicit support is required because channels wouldn't play well
with the normal way of making an object support transduction, for two
different reasons.</p>
<ul>
<li>Transducers require the ability to create a new, empty collection of the
same type as the input collection. In this case, that would mean creating a
new channel, meaning that the output channel (from which the transformed
values are received) would be different than the input channel (where
values are sent).</li>
<li>If we somehow get over that requirement and keep all action on the same
channel, we can't take values from the channel, transform them, and put
them back. This would potentially change the order of values in the channel
since we are dealing with asynchronous processes.</li>
</ul>
<p>The explicit support means a transducer is directly associated with a
channel. When a value is sent to the channel, it's first run through the
transducer and the transformed value is the one actually put into the
channel's buffer. This avoids both of the problems noted above.</p></div>
            

            
                




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel_index.js.html">modules/channel/index.js</a>, <a href="modules_channel_index.js.html#line8">line 8</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
































            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".selectResult"><span class="type-signature">(static) </span>selectResult<span class="signature">(value, channel)</span><span class="type-signature"> &rarr; {<a href="module-chanko_channel.html#.SelectResult">module:chanko/channel.SelectResult</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel_select.js.html">modules/channel/select.js</a>, <a href="modules_channel_select.js.html#line105">line 105</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates a select result from its component properties.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>If the <code>select</code> operation resulted in a receive, this is
the value received from the channel. If it resulted in a send, this is
<code>true</code> for a successful send and <code>false</code> if the channel closed first.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-chanko_channel.html#.Channel">module:chanko/channel.Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel upon which the
selected operation happened.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The properties wrapped into an
object for output.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-chanko_channel.html#.SelectResult">module:chanko/channel.SelectResult</a></span>


    </dd>
</dl>

    



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id=".Channel">Channel</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel_handler.js.html">modules/channel/handler.js</a>, <a href="modules_channel_handler.js.html#line164">line 164</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>A channel, used by processes to communicate with one another.</p>
<p>For each operation, the channel first tests to see if there's a corresponding
operation already queued (i.e., if we're doing a <code>send</code> that there's a queued
<code>recv</code> and vice versa). If there is, that corresponding operation is
unblocked and both operations complete. If not, the operation is queued to
wait for a corresponding operation. The process or that created the operation
then blocks.</p>
<p>The channel can be backed by a buffer, though it is not by default. If a
buffer is in place, and that buffer is not full, then the process that
created an operation that has to be queued is <em>not</em> blocked.</p>
<p>This channel object supports transformations, assuming that they follow the
protocol created by a few transducer library authors to allow them to
interoperate. The support must be explicitly created because the normal
method of making an object support transformations won't work here. This
method is to create a new object and add the transformed values to it - but
for a channel, we need to replace the values on the channel with their
transformed values, in the same order even in a multi-process environment.
Thus transformations happen in place.</p>
<p>Transformations are applied before the value is queued, so even if there is a
corresponding operation ready to go, the transformation still happens. Also,
transformations require that the channel be buffered (this buffer is what is
sent to the transformer's reduction step function); trying to create a
channel with a transformer but without a buffer will result in an error being
thrown.</p>
<p>This is the object that is returned from a call to
<code><a href="module-chanko-Chanko.html#.chan">chan</a></code>. However, this object is intended to
be used as a value to pass to channel operation functions; it doesn't have
any properties of interest to an end user.</p>
</div>








            
                

    

    <h4 class="name" id=".exceptionHandler"><span class="type-signature"></span>exceptionHandler<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel_index.js.html">modules/channel/index.js</a>, <a href="modules_channel_index.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>The default exception handler, used when no exception handler is supplied to
<code>handleException</code>, <code>wrapTransformer</code>,
<code><a href="module-chanko-Chanko.html#.chan">chan</a></code>, or
<code><a href="module-chanko-Chanko.html#.transChan">transChan</a></code>. This default handler
merely returns <code><a href="module-chanko-Chanko.html#.CLOSED">CLOSED</a></code>, which will
result in no new value being written to the channel.</p>
</div>




























            
                
<h4 class="name" id=".SelectResult">SelectResult</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_channel_select.js.html">modules/channel/select.js</a>, <a href="modules_channel_select.js.html#line81">line 81</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>If the <code>select</code> operation resulted in a receive, this is
the value received from the channel. If it resulted in a send, this is
<code>true</code> for a successful send and <code>false</code> if the channel closed first.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channel</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-chanko_channel.html#.Channel">module:chanko/channel.Channel</a></span>


            
            </td>

            

            

            <td class="description last"><p>The channel upon which the
selected operation happened.</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>A result that comes from <code>select</code> operations.</p>
</div>








            
    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>